<context_information>
<execution_instructions>
このプロンプトは順次実行型です。各フェーズを完了後、次のフェーズに進んでください。
各フェーズ完了時には、completion_criteria を確認し、全ての項目にチェックが入ったことを宣言してから次のフェーズに進んでください。
</execution_instructions>

<role>
あなたは経験豊富なフルスタックエンジニアです。
ユーザーが指定するアプリケーション要件に基づいて、完全に動作するモックWebサイトをNext.jsで構築してください。
</role>

<application_requirements>
{ここに作成したいアプリケーションの詳細を入力してください}
</application_requirements>

<technical_stack>
以下の技術スタックを使用してください：
- Next.js 14+ (App Router構成)
- TypeScript（厳格な型定義）
- Tailwind CSS（スタイリング）
- shadcn/ui（UIコンポーネントライブラリ）
- Framer Motion（アニメーション）
- Lucide React（アイコン）
</technical_stack>

<architecture_constraints>
外部依存を排除したシンプルな構成：
1. **データベース不使用**: すべてのデータ永続化はLocalStorageで実装
2. **API不使用**: サーバーサイドAPIコールは不要
3. **認証システム**: ダミーログイン（コード内にユーザー情報を定義）
4. **即時動作**: npm installとnpm run devで即座に動作すること
</architecture_constraints>

<ui_ux_guidelines>
- **モダンでプロフェッショナルなデザイン**: 2025年のトレンドを反映
- **完全レスポンシブ**: モバイル、タブレット、デスクトップすべてに対応
- **マイクロインタラクション**: ボタンホバー、ローディング状態、トランジション
- **アニメーション**: Framer Motionで滑らかなページ遷移とフェードイン効果
- **日本語コンテンツ**: すべてのテキストは日本語で記述
- **アクセシビリティ**: セマンティックHTML、適切なARIA属性、キーボード操作対応
- **カラースキーム**: 統一感のある配色（Tailwindのカラーパレットを活用）
</ui_ux_guidelines>

<code_quality_standards>
- **TypeScript厳格モード**: すべての型を明示的に定義
- **エラーハンドリング**: try-catch、エラーバウンダリーの実装
- **ローディング状態**: データ取得中の適切なUI表示
- **コメント**: 複雑なロジックには日本語コメントを追加
- **フォーマット**: Prettier準拠のコード整形
- **命名規則**: 一貫性のある変数名、関数名（日本語コメントで意図を明示）
</code_quality_standards>

<asset_handling>
- 画像はプレースホルダーサービスを使用（https://placehold.co/ 推奨）
- アイコンはLucide Reactから選択
- 必要に応じてUnsplash APIの無料画像を参照可能
</asset_handling>
</context_information>

<execution_phases>

<phase1_tasks>
<role>
あなたはプロダクトアナリストとして、アプリケーション要件を分析し、実装すべきコア機能を特定します。
</role>

<task>
<application_requirements>を精査し、以下を特定してください：

1. **アプリケーションの種類を判定**
   - データ管理型（タスク管理、顧客管理、在庫管理等）
   - ツール型（計算機、変換ツール、ジェネレーター等）
   - コミュニケーション型（チャット、掲示板、SNS等）
   - ダッシュボード型（分析、モニタリング、レポート等）
   - ECサイト型（商品販売、予約システム等）
   - その他（複合型含む）

2. **ターゲットユーザーの特定**
   - 単一ユーザー種別 or 複数ユーザー種別
   - 各ユーザー種別の役割と権限

3. **コア機能の特定（2〜3つ）**
   - ユーザー価値の中心となる機能を2〜3つ選定
   - 各機能が解決する課題を明確化
   - 各機能の優先順位を付与

4. **各コア機能に必要な要素を定義**
   機能の種類に応じて適切な要素を選択：
   
   【データ管理型の場合】
   - 一覧表示、詳細表示、作成、編集、削除
   - 検索、フィルタリング、ソート
   - ページネーション
   
   【ツール型の場合】
   - 入力フォーム、処理ロジック、結果表示
   - 履歴表示、設定保存
   - エクスポート機能
   
   【コミュニケーション型の場合】
   - メッセージ一覧、スレッド表示、投稿・返信
   - リアルタイム更新（LocalStorageでシミュレート）
   - 通知機能
   
   【その他】
   - アプリケーションの性質に応じた独自の要素

分析結果を `/product/construction/analysis.md` に記載してください。
</task>

<output_format>
# アプリケーション要件分析

## アプリケーション種別
[データ管理型/ツール型/コミュニケーション型/ダッシュボード型/EC型/その他]

**理由**: [なぜこの種別と判断したか]

## ターゲットユーザー
- **ユーザー種別数**: [単一/複数（N種類）]
- **ユーザー種別一覧**:
  - [ユーザー種別1]: [役割と権限の説明]
  - [ユーザー種別2]: [役割と権限の説明]

## コア機能（優先度順）

### 1. [機能名] 🎯最優先
**解決する課題**: [この機能が解決するユーザーの課題]
**必要な要素**:
- [ ] [要素1: 例: データ一覧表示]
- [ ] [要素2: 例: 詳細表示]
- [ ] [要素3: 例: 作成・編集フォーム]
- [ ] [要素4: 例: 削除機能]
- [ ] [要素5: 例: 検索・フィルタ]

**ユーザーフロー**: 
[この機能を使う際の典型的なユーザーの操作フロー]

### 2. [機能名]
[同様の形式で記載]

### 3. [機能名]
[同様の形式で記載]

## 必要なページ構成（推定）
- `/`: ランディングページ
- `/login`: ログインページ
- `/dashboard`: ダッシュボード（メイン画面）
- [コア機能に応じた追加ページ]
  - 例: `/tasks`, `/tasks/[id]`, `/tasks/new` など

## 技術実装の方針
- **データ管理**: LocalStorageで管理するデータモデルの概要
- **認証**: [単一ユーザー/複数ユーザー種別]に応じた認証フロー
- **主要なカスタムフック**: useLocalStorage, useAuth, [その他必要なフック]
</output_format>

<completion_criteria>
このフェーズは以下の条件を全て満たした場合に完了とします：

【必須条件】
- [ ] `/product/construction/analysis.md` が作成されている
- [ ] アプリケーション種別が明確に判定されている
- [ ] コア機能が2〜3つ特定され、優先順位が付けられている
- [ ] 各コア機能に必要な要素がチェックリスト形式で列挙されている
- [ ] ユーザー種別が特定されている（単一/複数）
- [ ] 各機能のユーザーフローが記載されている

【品質基準】
- [ ] コア機能の選定理由が明確である
- [ ] 各機能が<application_requirements>の要件を満たしている
- [ ] 機能間の重複がない
- [ ] 実装可能な範囲に収まっている（2〜3機能）

【次フェーズへの準備】
- [ ] Phase2でプロジェクトセットアップに必要な情報が揃っている
- [ ] Phase4でコア機能を実装するための設計情報が十分

このチェックリストを確認し、全ての項目にチェックが入ったことを宣言してから Phase2 に進んでください。
</completion_criteria>
</phase1_tasks>

<phase2_tasks>
<role>
あなたはシニアエンジニアとして、プロジェクトのセットアップと基盤実装を行います。
</role>

<task>
以下の手順でプロジェクトをセットアップしてください：

1. **Next.jsプロジェクトの作成**
   ```bash
   cd /Users/yutaokos/src/aws-samples/aws-ml-enablement-workshop/yourwork_20251016/
   npx create-next-app@latest product --typescript --tailwind --app --src-dir --import-alias "@/*"
   ```

2. **依存関係のインストール**
   ```bash
   cd product
   npm install framer-motion lucide-react
   ```

3. **shadcn/uiのセットアップ**
   必要なコンポーネントをインストール（Button, Card, Input, Form, Dialog, Toast等）

4. **プロジェクト構造の構築**
   ```
   /product/
   ├── src/
   │   ├── app/
   │   │   ├── page.tsx
   │   │   ├── login/page.tsx
   │   │   ├── dashboard/page.tsx
   │   │   └── layout.tsx
   │   ├── components/
   │   │   ├── ui/              # shadcn/ui
   │   │   ├── auth/
   │   │   ├── layout/
   │   │   └── features/
   │   ├── lib/
   │   │   ├── hooks/
   │   │   ├── utils.ts
   │   │   └── constants.ts
   │   ├── types/
   │   │   └── index.ts
   │   └── context/
   │       └── AuthContext.tsx
   ├── construction/
   │   └── analysis.md        # Phase1で作成
   └── README.md
   ```

5. **基盤機能の実装**
   - TypeScript型定義（`types/index.ts`）
   - Phase1の`analysis.md`で定義したデータモデルを実装
   - LocalStorage管理フック（`lib/hooks/useLocalStorage.ts`）
   - 認証Context（`context/AuthContext.tsx`）
   - Phase1で特定したユーザー種別に対応
   - 認証フック（`lib/hooks/useAuth.ts`）
   - サンプルデータ生成関数（`lib/data/seed.ts`）
   - Phase1で特定したコア機能に必要なダミーデータを生成
</task>

<completion_criteria>
このフェーズは以下の条件を全て満たした場合に完了とします：

【必須条件】
- [ ] Next.jsプロジェクトが作成され、`npm run dev`で起動できる
- [ ] 必要な依存関係がすべてインストールされている
- [ ] プロジェクト構造が構築されている
- [ ] TypeScript型定義ファイルが作成されている（Phase1のanalysis.mdに基づく）
- [ ] useLocalStorageフックが実装されている
- [ ] AuthContextが実装されている
- [ ] useAuthフックが実装されている
- [ ] サンプルデータ生成関数が実装されている

【品質基準】
- [ ] TypeScriptのビルドエラーがない
- [ ] すべてのフックが正しく動作する
- [ ] AuthContextがユーザー種別を適切に管理している（Phase1の分析結果に基づく）
- [ ] サンプルデータがアプリケーションの要件を満たしている（Phase1で特定したコア機能に必要なデータ）
- [ ] データモデルがPhase1で定義した内容と一致している

【次フェーズへの準備】
- [ ] Phase3で基本ページを実装する準備が整っている
- [ ] Phase1の`analysis.md`に、Phase4の実装に必要な情報が十分含まれている

このチェックリストを確認し、全ての項目にチェックが入ったことを宣言してから Phase3 に進んでください。
</completion_criteria>
</phase2_tasks>

<phase3_tasks>
<role>
あなたはフロントエンドエンジニアとして、基本ページを実装します。
</role>

<task>
以下の基本ページを実装してください：

1. **ランディングページ (`app/page.tsx`)**
   - サービス価値を伝えるヒーローセクション
   - 主要機能の説明（3〜4セクション）
   - CTAボタン（「今すぐ始める」→ログインページへ）
   - スムーズなスクロールアニメーション（Framer Motion）

2. **ログインページ (`app/login/page.tsx`)** - ダミー実装で十分
   - シンプルなログインフォーム（メールアドレスのみでOK）
   - **デモユーザー情報を画面上に見やすく表示**（クリックで入力できると親切）
   - ボタンをクリックするだけでログイン完了（パスワード不要でも可）
   - ログイン後は適切なダッシュボードへリダイレクト
   - Phase1で特定したユーザー種別がある場合は、各種別のデモアカウントをリスト表示
   
   **重要**: バリデーションやエラーハンドリングは最小限で構いません。
   デモ体験を素早くスムーズにすることを優先してください。

3. **ダッシュボード (`app/dashboard/page.tsx`)**
   - ログイン必須（RouteGuard実装）
   - ナビゲーションバー/サイドバー
   - コア機能へのナビゲーション
   - 統計情報やサマリーの表示（ダミーデータ使用）
   - ユーザー種別に応じたダッシュボード表示（Phase1の分析に基づく）

4. **共通レイアウト (`app/layout.tsx`)**
   - ルートレイアウトの実装
   - 認証Providerの設定
   - ToastProviderの設定
   - グローバルスタイルの適用

5. **共通コンポーネント**
   - Header / Navigation
   - Sidebar（該当する場合）
   - RouteGuard（認証チェック）
   - RoleGuard（ユーザー種別チェック、必要な場合）
</task>

<completion_criteria>
このフェーズは以下の条件を全て満たした場合に完了とします：

【必須条件】
- [ ] ランディングページが実装され、正しく表示される
- [ ] ログインページが実装され、デモユーザーでログインできる
- [ ] ダッシュボードが実装され、ログイン後にアクセスできる
- [ ] 未ログイン時は適切にログインページにリダイレクトされる
- [ ] ページ間の遷移が正しく動作する
- [ ] すべてのページがレスポンシブデザインである

【品質基準】
- [ ] UIが美しく洗練されている
- [ ] アニメーションがスムーズに動作する
- [ ] デモユーザー情報が見やすく表示されている
- [ ] ログイン体験がスムーズで、複雑なバリデーションで妨げられていない

【Phase1の分析に基づく実装】
- [ ] ユーザー種別に応じた実装が正しい（単一/複数）
- [ ] 複数ユーザー種別の場合、各種別のデモアカウントが表示される
- [ ] ログイン後のリダイレクト先が正しい

【次フェーズへの準備】
- [ ] Phase4でコア機能を追加する基盤が整っている
- [ ] ナビゲーションにコア機能へのリンクを追加する準備ができている

このチェックリストを確認し、全ての項目にチェックが入ったことを宣言してから Phase4 に進んでください。
</completion_criteria>
</phase3_tasks>

<phase4_tasks>
<role>
あなたはフルスタックエンジニアとして、Phase1で特定したコア機能を完全に実装します。
</role>

<task>
Phase1の `analysis.md` で特定した2〜3つのコア機能を、優先度順に実装してください。

**重要**: 各機能は、analysis.mdで定義した「必要な要素」をすべて実装してください。
ページ構成やルーティングは、アプリケーションの種別と要件に最適な形で設計してください。

## 実装手順

### 各コア機能について：

1. **データモデルの実装**
   - TypeScript型定義
   - LocalStorageのキー定義
   - 初期サンプルデータの準備

2. **必要な要素の実装**
   Phase1で定義したチェックリストの各要素を実装：
   
   例（データ管理型の場合）:
   - [ ] データ一覧表示ページ/コンポーネント
   - [ ] 詳細表示ページ/コンポーネント
   - [ ] 作成・編集フォーム
   - [ ] 削除機能と確認ダイアログ
   - [ ] 検索・フィルタリング機能
   - [ ] ソート機能
   - [ ] ページネーション
   
   例（ツール型の場合）:
   - [ ] 入力フォームコンポーネント
   - [ ] 処理ロジックの実装
   - [ ] 結果表示コンポーネント
   - [ ] 履歴表示機能
   - [ ] 設定保存機能

3. **カスタムフックの実装**
   機能に特化したカスタムフック：
   - データ取得・更新フック
   - 検索・フィルタフック
   - その他必要なロジック

4. **完全なユーザーフローの実装**
   Phase1で定義したユーザーフローが実際に動作することを確認：
   - 入力から出力まで完結する
   - LocalStorageへの保存・読み込みが機能する
   - ページリロード後もデータが保持される
   - 適切なフィードバック（トースト通知等）
   - バリデーションとエラーハンドリング

5. **ダッシュボードとの統合**
   - ダッシュボードからコア機能へのナビゲーション追加
   - ダッシュボードでのサマリー表示（該当する場合）

## 実装の柔軟性

アプリケーションの種別に応じて、最適な実装方法を選択してください：

**ルーティング**:
- `/feature-name` （一覧）
- `/feature-name/[id]` （詳細）
- `/feature-name/new` （新規作成）
- モーダルで作成・編集する場合は、動的ルートは不要

**データ表示**:
- テーブル形式（データ量が多い場合）
- カード形式（視覚的な情報が重要な場合）
- リスト形式（シンプルな項目の場合）

**フォーム実装**:
- 専用ページ（複雑なフォームの場合）
- モーダル/ダイアログ（シンプルなフォームの場合）
- サイドパネル（コンテキストを保持したい場合）
</task>

<completion_criteria>
このフェーズは以下の条件を全て満たした場合に完了とします：

【必須条件】
- [ ] Phase1で特定した全てのコア機能（2〜3つ）が実装されている
- [ ] 各機能について、analysis.mdの「必要な要素」が全て実装されている
- [ ] 各機能のユーザーフローが完全に動作する
- [ ] LocalStorageへのデータ永続化が正しく機能する
- [ ] ページリロード後もデータが保持される
- [ ] フォームバリデーションが実装されている
- [ ] エラーハンドリングが適切に実装されている
- [ ] 成功/エラーのトースト通知が表示される

【品質基準】
- [ ] UIが直感的で使いやすい
- [ ] すべての操作が実際に動作する（見た目だけでない）
- [ ] データの整合性が保たれている
- [ ] レスポンシブデザインが実装されている
- [ ] ローディング状態が適切に表示される
- [ ] TypeScriptの型エラーがない

【機能の完全性】
各コア機能について:
- [ ] 作成・追加機能が動作する（該当する場合）
- [ ] 表示・閲覧機能が動作する
- [ ] 更新・編集機能が動作する（該当する場合）
- [ ] 削除機能が動作する（該当する場合）
- [ ] 検索・フィルタ機能が実際に動作する（該当する場合）
- [ ] ソート機能が実際に動作する（該当する場合）
- [ ] 計算・処理機能が正しく動作する（該当する場合）

【ユーザー種別対応】（Phase1で複数ユーザー種別の場合）
- [ ] 各ユーザー種別でログインして動作確認済み
- [ ] 権限に応じた機能制限が正しく実装されている
- [ ] ユーザー種別ごとに異なるダッシュボード/ビューが表示される

【次フェーズへの準備】
- [ ] Phase5で最終調整・テストを行う準備が整っている
- [ ] 既知の不具合がない

このチェックリストを確認し、全ての項目にチェックが入ったことを宣言してから Phase5 に進んでください。
</completion_criteria>
</phase4_tasks>

<phase5_tasks>
<role>
あなたはQAエンジニアとして、アプリケーション全体の動作確認と最終調整を行います。
</role>

<task>
以下の最終調整とテストを実施してください：

1. **統合テスト**
   - 全てのユーザーフローを実際に操作して確認
   - ログイン → 各機能の使用 → ログアウト
   - データの作成 → 表示 → 編集 → 削除（該当する場合）
   - ページリロード後のデータ永続化確認

2. **レスポンシブデザインの確認**
   - モバイル（375px、414px）
   - タブレット（768px、1024px）
   - デスクトップ（1280px、1920px）
   - すべてのページとコンポーネントで確認

3. **エラーハンドリングの確認**
   - コア機能での不正な入力値のバリデーション
   - 存在しないIDへのアクセス
   - LocalStorageが無効な場合の動作
   
   **注**: ログインページのバリデーションは最小限で構いません（ダミー実装のため）

4. **パフォーマンス最適化**
   - 不要な再レンダリングの防止
   - 画像の最適化
   - コンポーネントの遅延読み込み（必要な場合）

5. **ユーザビリティ改善**
   - ローディング状態の追加
   - エラーメッセージの改善
   - トースト通知のタイミング調整
   - アニメーションの微調整

6. **ドキュメント作成**
   `/product/README.md` に以下を記載：
   - プロジェクト概要
   - セットアップ手順
   - デモユーザー情報（全ユーザー種別）
   - 実装済み機能の説明
   - 技術スタック
   - ディレクトリ構造

7. **ビルド確認**
   ```bash
   npm run build
   ```
   エラーなくビルドが成功することを確認
</task>

<completion_criteria>
このフェーズは以下の条件を全て満たした場合に完了とします：

【必須条件】
- [ ] `npm run build` が成功する
- [ ] `npm run dev` で正常に起動する
- [ ] 全てのユーザーフローが正常に動作する
- [ ] TypeScriptのビルドエラーがない
- [ ] Lintエラーがない（または許容範囲内）
- [ ] README.mdが作成されている

【統合テスト】
- [ ] ログイン→ダッシュボード→各機能→ログアウトの流れが動作する
- [ ] 全てのコア機能が実際に使用できる
- [ ] データの永続化が正しく機能する（リロード後も保持）
- [ ] 削除したデータが正しく削除される
- [ ] 検索・フィルタが実際に動作する（該当する場合）

【レスポンシブデザイン】
- [ ] モバイルで全ページが正しく表示される
- [ ] タブレットで全ページが正しく表示される
- [ ] デスクトップで全ページが正しく表示される
- [ ] タッチ操作が適切に動作する（モバイル）

【エラーハンドリング】
- [ ] コア機能で不正な入力値に対して適切なエラーメッセージが表示される
- [ ] 存在しないページへのアクセスで適切に処理される
- [ ] LocalStorageエラーが適切に処理される

**注**: ログイン機能はダミー実装のため、厳密なエラーハンドリングは不要です

【ユーザビリティ】
- [ ] 全ての操作で適切なフィードバックがある
- [ ] ローディング状態が適切に表示される
- [ ] エラーメッセージが分かりやすい
- [ ] アニメーションがスムーズ
- [ ] UIが直感的で使いやすい

【ドキュメント】
- [ ] README.mdにセットアップ手順が記載されている
- [ ] 全てのデモユーザー情報が記載されている
- [ ] 実装済み機能が説明されている
- [ ] 技術スタックが明記されている

【最終確認】
- [ ] デプロイ可能な品質である
- [ ] <application_requirements>で要求された機能が実装されている
- [ ] Phase1で特定したコア機能が完全に動作する
- [ ] 既知の重大な不具合がない

全ての項目にチェックが入ったことを宣言し、プロジェクトを完了してください。
</completion_criteria>
</phase5_tasks>

</execution_phases>

<important_notes>
- このプロンプトはフェーズベースで段階的に実行してください
- 各フェーズのcompletion_criteriaを必ず確認し、全項目クリアしてから次へ進んでください
- Phase1の分析結果に基づいて、Phase4の実装内容が大きく変わります
- ページ構成やルーティングは、アプリケーションの要件に最適な形で柔軟に設計してください
- 「一覧・詳細・作成」というパターンに無理に当てはめる必要はありません
- 各機能が「実際に動作する」ことを最優先してください

**ログイン機能について**:
- ログインは完全なダミー実装で構いません
- デモユーザー情報を見やすく表示し、ワンクリックでログインできるようにしてください
- 複雑なバリデーションやエラーハンドリングは不要です
- 重要なのはコア機能の実装であり、ログインはあくまで認証状態を作るための簡易的な手段です
</important_notes>
